# 概述

一些与IPv4和IPv6相关的内核和系统范围的参数是可以配置的。

# IPv4设置

**Sub-menu:** `/ip settings`

| Property                                                         | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| ---------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **accept-redirects** (_yes \| no_; Default: **no**)              | 是否接受ICMP重定向信息。通常情况下，在主机上应启用，在路由器上应禁用。                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **accept-source-route** (_yes\| no_; Default: **no**)            | 是否接受带有SRR选项的数据包。通常应在路由器上启用。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **allow-fast-path** (_yes \| no_; Default: **yes**)              | 允许 [快速路径](https://help.mikrotik.com/docs/display/ROS/Packet+Flow+in+RouterOS#PacketFlowinRouterOS-FastPath)。                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **arp-timeout** (_time interval_; Default: **30s**)              | 在所有使用ARP的接口上设置Linux **base_reachable_time**（base_reachable_time_ms）。ARP条目的初始有效性是从找到邻居后的间隔[timeout/2...3*timeout/2]（默认从15s到45s）中挑选。可以使用postfix ms, s, m, h, d表示毫秒、秒、分钟、小时或天。如果没有设置postfix，则使用秒（s）。参数 **DOES NOT** 代表ARP条目从ARP缓存中删除的时间，如果在路由缓存中创建引用，ARP缓存条目可以在缓存中存储长达10分钟。                                                                                                                                              |
| **icmp-rate-limit** (_integer [0..4294967295]_; Default: **10**) | 限制向特定目标发送类型与icmp-rate-mask匹配的ICMP数据包的最大速率。0表示禁用任何限制，否则表示响应之间的最小间隔，单位是毫秒。                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **icmp-rate-mask** (_[0..FFFFFFF]_; Default: **0x1818**)         | 限制速率的ICMP类型的屏蔽。[更多信息见linux man pages](http://man7.org/linux/man-pages/man7/icmp.7.html)                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **ip-forward** (_yes\| no_; Default: **yes**)                    | 启用禁用接口间的数据包转发。根据RFC1812对路由器的规定，将所有配置参数重置为默认值。                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **rp-filter** (_loose\| no \| strict_; Default: **no**)          | 禁用或启用源验证。<br>- no - 无源验证。<br>- strict - 严格模式，如RFC3704中定义的严格反向路径。每个传入的数据包都要根据FIB进行测试，如果接口不是最好的反向路径，数据包检查将失败。默认情况下，失败的数据包被丢弃。<br>- loose - RFC3704松散反向路径中定义的松散模式。每个传入的数据包的源地址也要根据FIB进行测试，如果源地址不能通过任何接口到达，数据包检查将失败。<br>RFC3704中目前推荐的做法是启用严格模式，以防止DDoS攻击的IP欺骗。如果使用非对称路由或其他复杂的路由或VRRP，那么推荐使用松散模式。<br>**警告：** 严格模式对路由表不起作用 |
| **secure-redirects** （_yes \| no_;Default：**yes**）            | 仅接受默认网关列表中列出的网关的ICMP重定向消息。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **send-redirects**（_yes \| no_;Default：**yes**）               | 是否发送ICMP重定向。 建议在路由器上启用。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **tcp-syncookies**（_yes \| no_;Default：**no**）                | 当套接字溢出的SYN积压队列时，发送Syncookies。 这是为了防止反对常见的“ SYN泛滥攻击”。 Syncookies严重违反了TCP协议，不允许使用TCP扩展，可能会导致某些服务的严重降级（F.E. SMTP转发），对你不可见，而是对客户和转发                                                                                                                                                                                                                                                                                                                               |
| **max-neighbor-entries** (_integer [0..4294967295]_; Default: )  | ARP表中最多允许的邻居数量。 由于Routeros版本7.1默认值取决于已安装的RAM数量。 可以设置比默认值更高的值，但会增加失败的风险。<br>某些RAM大小的默认值：<br>- 2048年64 MB，<br>- 4096用于128 MB，<br>- 8192用于256 MB，<br>- 16384用于512 MB或更高。                                                                                                                                                                                                                                                                                               |
| **route-cache** (_yes \| no_; Default: **yes**)                  | 禁用或启用Linux路由缓存。 请注意，禁用路由缓存，也将禁用快速路径。                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |

**只读属性**

| 属性                                     | 说明                          |
| ---------------------------------------- | ----------------------------- |
| **ipv4-fast-path-Active**（_yes \| no_） | 指示快速路径是否处于活动状态  |
| **ipv4-fast-path-bytes**（_integer_）    | 快速路径的字节数量            |
| **ipv4-fast-path-packets**（_integer_）  | 快速路径的数据包              |
| **ipv4-fasttrack-active**（_yes \| no_） | 指示FastTrack是否处于活动状态 |
| **ipv4-fastTrack-bytes**（_integer_）    | 快速追踪字节                  |
| **ipv4-fastTrack-packets**（_integer_）  | 快速追踪的数据包数量。        |

# IPv6设置

**Sub-menu:** `/ipv6 settings`

如果改变设置，不应把新配置分配给路由器，而旧配置则具有该地址，则必须重启路由器，或等待直到Slaac地址超时

| 属性                                                                                                                | 说明                                                                                                                                                                                                                                                                           |
| ------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **accept-redirects** (_no\| yes-if-forwarding-disabled_; Default: **yes-if-forwarding-disabled**)                   | 是否接受ICMP重定向消息。 通常在主机上启用并在路由器上禁用                                                                                                                                                                                                                      |
| **accept-router-advertisements** (_no\| yes\| yes-if-forwarding-disabled_; Default: **yes-if-forwarding-disabled**) | 接受路由器通告（RA）消息。 如果启用路由器，可以使用 [无状态地址配置](https://wiki.mikrotik.com/wiki/Manual:IPv6/ND#Stateless_address_autoconfiguration "Manual:IPv6/ND")                                                                                                       |
| **disable-ipv6** (_yes\| no_; Default: **no**)                                                                      | 启用/禁用系统宽IPv6设置（防止LL地址生成）                                                                                                                                                                                                                                      |
| **forward** (_yes \| no_; Default: **yes**)                                                                         | 在接口之间启用/禁用数据包转发                                                                                                                                                                                                                                                  |
| **max-neighbor-entries** (_integer [0..4294967295]_; Default: )                                                     | 最大数字或IPv6邻居。 由于Routeros版本7.1默认值取决于已安装的RAM数量。 可以设置比默认值更高的值，但增加了失败风险。<br>某些RAM大小的默认值：<br>-   1024 for 64 MB,<br>-   2048 for 128 MB,<br>-   4096 for 256 MB,<br>-   8192 for 512 MB,<br>-   16384 for 1024 MB or higher. |