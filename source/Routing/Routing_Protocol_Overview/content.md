# 特性状态

- 功能尚未提供

OK -初始测试成功

NOK -初始测试不成功

突出显示颜色:

- 黄色-部分工作
- 绿色-工作
- 红色-目前不工作
  
| Feature                                                                                                                                                                      | v7.1                                                                                                                        | v7.2                                      | v7.3                                         | v7.6                  | v7.7 | v7.10                                              |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------- | -------------------------------------------- | --------------------- | ---- | -------------------------------------------------- |
| **_Winbox_**                                                                                                                                                                 |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| BGP support                                                                                                                                                                  |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| OSPF support                                                                                                                                                                 |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| RIP support                                                                                                                                                                  |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Router ID support                                                                                                                                                            |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Routing filter support                                                                                                                                                       |                                                                                                                             |                                           |                                              |                       |      |                                                    |  |
| _**Generic**_                                                                                                                                                                |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| /31 address support                                                                                                                                                          | N/A                                                                                                                         |                                           | Routed traffic does not work to odd address. |                       |      |                                                    |
| Convert route rules after upgrade from v6.x                                                                                                                                  |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Static IPv6 upgrade from ROS v6                                                                                                                                              |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| IPv4 Route Rules                                                                                                                                                             |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| IPv6 Route Rules                                                                                                                                                             |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| ECMP flags                                                                                                                                                                   |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| dst@table                                                                                                                                                                    |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| gateway@table                                                                                                                                                                |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| gateway%interface                                                                                                                                                            |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| recursive route over ipv6 LL address                                                                                                                                         |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| 3 level recursive gateway with ECMP                                                                                                                                          |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| IPV6 ECMP                                                                                                                                                                    |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| IPv6 connected ECMP                                                                                                                                                          |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Addresses from same subnet to multiple interfaces                                                                                                                            | N/A                                                                                                                         |                                           |                                              |                       |      |                                                    |
| Show time when route was last updated                                                                                                                                        | N/A                                                                                                                         |                                           |                                              |                       |      |                                                    |
| Check Gateway                                                                                                                                                                | BFD not ready                                                                                                               |                                           |                                              |                       |      |                                                    |
| Scope and target scope                                                                                                                                                       |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| IPv4 Mangle routing-mark                                                                                                                                                     |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| IPv6 Mangle routing-mark                                                                                                                                                     |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Packet SRC address                                                                                                                                                           | Does not work correctly with /32 addresses                                                                                  |                                           |                                              |                       |      |                                                    |
| Routing-table parameter for ping and telnet                                                                                                                                  |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Show if route is hardware accelerated                                                                                                                                        | Shows if route is candidate for HW acceleration                                                                             |                                           |                                              |                       |      |                                                    |
| Custom route selection policy                                                                                                                                                |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| IPv4 with IPv6 nexthops for RFC5549                                                                                                                                          |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Routing id                                                                                                                                                                   |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| VRF                                                                                                                                                                          |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Management services support for VRFs                                                                                                                                         | telnet, ssh, api, www services can be set to listen on specific VRF                                                         |                                           |                                              |                       |      |                                                    |
| Some kind of mechanism to import/export routes from one vrf to another within same router                                                                                    | N/A                                                                                                                         |                                           |                                              |                       |      |                                                    |
| BFD                                                                                                                                                                          | N/A                                                                                                                         |                                           |                                              |                       |      |                                                    |  |  |
| _**OSPF**_                                                                                                                                                                   |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Convert OSPF config from v6 to v7 after upgrade                                                                                                                              | 已知的转换问题:<br>- NBMA邻居位于骨干<br>- ospf-v2网络+接口可能存在问题<br>- 动态接口可能有问题<br>- 不转换MPLS PE - CE特性 |                                           |                                              |                       |      |                                                    |
| OSPF neighbors in NSSA Area                                                                                                                                                  |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| OSPF in broadcast network                                                                                                                                                    |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| OSPF with routing filters                                                                                                                                                    |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| OSPF Virtual Link                                                                                                                                                            |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| OPSF input filtering                                                                                                                                                         |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| HMAC-SHA auth RFC5709                                                                                                                                                        | N/A                                                                                                                         |                                           |                                              | Initial support       |      |                                                    |
| BGP and OSPF SNMP monitoring                                                                                                                                                 | N/A                                                                                                                         |                                           |                                              |                       |      |                                                    |  |
| _**BGP**_                                                                                                                                                                    |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Convert BGP config from v6 to v7 after upgrade                                                                                                                               |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| BGP Templates and dynamic peers                                                                                                                                              |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| BGP connect listen on a network                                                                                                                                              |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| BGP guess remote.as                                                                                                                                                          |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Show from which peer route received                                                                                                                                          | OK ( /routing/route/print detail --> belongs-to)                                                                            |                                           |                                              |                       |      |                                                    |
| BGP Address Families                                                                                                                                                         |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| BGP input.accept-*                                                                                                                                                           |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| eBGP nexthop self                                                                                                                                                            |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Input Filter                                                                                                                                                                 |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Output Filter                                                                                                                                                                |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| BGP Local address auto selection                                                                                                                                             |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| BGP route reflect                                                                                                                                                            |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| BGP route server                                                                                                                                                             |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| BGP Roles [https://datatracker.ietf.org/doc/draft-ietf-idr-bgp-open-policy/?include_text=1](https://datatracker.ietf.org/doc/draft-ietf-idr-bgp-open-policy/?include_text=1) | rfc roles not fully implemented                                                                                             |                                           |                                              |                       |      |                                                    |
| BGP session uptime in "established" state                                                                                                                                    |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| BGP session last established time                                                                                                                                            |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| BGP Flow Spec                                                                                                                                                                | Flow spec attributes are forwarded                                                                                          |                                           |                                              |                       |      |                                                    |  |
| BGP Selection                                                                                                                                                                |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| BGP Selection (Multipath)                                                                                                                                                    | N/A                                                                                                                         |                                           |                                              |                       |      |                                                    |  |
| BGP Confederation                                                                                                                                                            |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| BGP Aggregation                                                                                                                                                              | N/A                                                                                                                         |                                           |                                              |                       |      |                                                    |  |
| BGP ORF                                                                                                                                                                      | N/A                                                                                                                         |                                           |                                              |                       |      |                                                    |
| Discard prefix RTBH  RFC 6666                                                                                                                                                | N/A                                                                                                                         |                                           |                                              |                       |      |                                                    |
| AS-wide Unique BGP Identifier RFC 6286                                                                                                                                       | N/A                                                                                                                         |                                           |                                              |                       |      |                                                    |
| Exported PDU PCAP saver                                                                                                                                                      |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Exported PDU PCAP loader                                                                                                                                                     |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| BGP Advertisement monitoring                                                                                                                                                 |                                                                                                                             | Initial implementation by dumping to pcap |                                              | Advertisements rework |      |                                                    |
| BGP Prefix limit                                                                                                                                                             |                                                                                                                             |                                           | Initial support                              |                       |      |                                                    |
| BGP advertise IPv4 prefix with IPv6 nexthop (RFC5549)                                                                                                                        |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| BGP VPNv6 support                                                                                                                                                            |                                                                                                                             |                                           |                                              |                       |      | Prerequisites are made, need to add actual BGP Afi |
| _**MPLS**_                                                                                                                                                                   |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Static label mapping                                                                                                                                                         |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Static mapping upgrade from v6                                                                                                                                               |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| LDP IPv4 mapping                                                                                                                                                             |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| LDP IPv6 mapping                                                                                                                                                             |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| LDP signaled VPLS                                                                                                                                                            |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| LDP config upgrade from v6                                                                                                                                                   |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| LDP Dual Stack                                                                                                                                                               |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| TE                                                                                                                                                                           |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| TE Config upgrade from v6                                                                                                                                                    |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| VPLS Encap to TE                                                                                                                                                             |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| BGP signaled VPLS                                                                                                                                                            |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| VPLS config upgrade from v6                                                                                                                                                  |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Fast reroute                                                                                                                                                                 |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| MPLS ECMP                                                                                                                                                                    |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| One label per VRF                                                                                                                                                            |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Ability to use MPLS EXP-bit in Queues                                                                                                                                        | N/A                                                                                                                         |                                           |                                              |                       |      |                                                    |
| MPLS Fast-Path                                                                                                                                                               | N/A                                                                                                                         |                                           |                                              |                       |      |                                                    |
| RPKI session                                                                                                                                                                 |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| RPKI possibility to view received info of specific prefix                                                                                                                    |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| RPKI show connection status                                                                                                                                                  |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| _**Filters**_                                                                                                                                                                |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Convert routing filters after upgrade from v6.x                                                                                                                              |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Syntax completion                                                                                                                                                            |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Routing filter chain drop by default without rules                                                                                                                           |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Routing filter prefix match                                                                                                                                                  |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Routing filter protocol match                                                                                                                                                |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Routing filter append communities                                                                                                                                            |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Routing filter append large community                                                                                                                                        |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Routing filter set weight                                                                                                                                                    |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Routing filter set local pref                                                                                                                                                |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Routing filter set MED                                                                                                                                                       |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Routing filter set origin                                                                                                                                                    |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Routing filter set igp metric from OSPF cost                                                                                                                                 |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Routing filter match prefix with address list                                                                                                                                |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Routing filter match community/large community lists                                                                                                                         |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| Routing filter add a prefix to address list                                                                                                                                  | N/A                                                                                                                         |                                           |                                              |                       |      |                                                    |
| Routing filter validate prefix with RPKI                                                                                                                                     |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| _**Multicast**_                                                                                                                                                              |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| IGMP-Proxy                                                                                                                                                                   |                                                                                                                             |                                           |                                              |                       |      |                                                    |
| PIM-SM                                                                                                                                                                       | Initial support                                                                                                             |                                           |                                              |                       |      |                                                    |  |


## 性能状态

  
使用硬件:

- CCR1036, 16GB RAM (tile)
- CCR2004 (arm64)
- CCR1100AHx4(ARM)
- Intel(R) Core(TM) i7-4790 CPU @ 3.60GHz 32GB RAM(作为CHRs主机)


模拟的上游对等体是一台运行ROSv6的CHR路由器，具有全局IPv4路由表的副本(从MRT dump加载585K路由)。

### 单端接收

![](https://help.mikrotik.com/docs/download/attachments/28606515/BGP_T1.png?version=1&modificationDate=1599129381563&api=v2)

DUT与模拟的上游对等体建立连接，接收路由并将其放入FIB中。

|                                      | v6.44                                                    | v7.1beta3         | v7.1rc7 |
| ------------------------------------ | -------------------------------------------------------- | ----------------- | ------- |
| CCR                                  | 0:40 - 2:12                                              | 0:46              |         |
| RB1100x4 1.4GHz                      | 0:32-0:38                                                | 0:23              |         |
| CCR2004                              | 0:32                                                     | 0:18              |         |
| x86 (CHR)                            | 0:20                                                     |                   |         |
| RB450G (in/out affinity=alone)       | after trying for 9min - ran out of memory at 558K routes | 2:02 (121MB free) |         |
| RB450G (in/out affinity=main)        |                                                          | 1:54              |         |
| RB450G (affinity in=alone out=input) |                                                          | 2:12              |         |

### 只有两个对等体接收

![](https://help.mikrotik.com/docs/download/attachments/28606515/BGP_T2.png?version=1&modificationDate=1599129407331&api=v2)

DUT与两个模拟的上游对等体建立连接，接收路由，选择最佳路由，并安装FIB。在ROSv7设置为“单独”。

|                 | v6.44       | FRR                 | v7.1beta3 | v7.1rc7 (846k routes per peer) |
| --------------- | ----------- | ------------------- | --------- | ------------------------------ |
| CCR             | 1:01 - 2:45 |                     | 1:11      |                                |
| RB1100x4 1.4GHz | 0:51        |                     | 0:30      |                                |
| CCR2004         | 0:51        |                     | 0:29      | 0:33                           |
| router x        |             |                     |           | 0:40                           |
| x86 (CHR)       | 0:25        |                     |           |                                |
| x86 (virtual)   |             | 0:26(4cores)        |           |                                |
|                 |             | 0:46(2cores)        |           |                                |
|                 |             | 0:30(2cores no LDP) |           |                                |

### 多Sim卡

两台被测设备与模拟的x86上行路由器建立eBGP会话。两个dut都与iBGP会话互联。每个DUT接收来自上游的路由，并通过iBGP发布路由。在ROSv7亲和，设置设置为“单独”和早期切割禁用。

![](https://help.mikrotik.com/docs/download/attachments/28606515/BGP_MH.png?version=1&modificationDate=1599128813808&api=v2)

-   Route Provider: CHR (ROSv6)
-   DUT_1: CCR1032
-   DUT_2: CCR1032

<table class="wrapped confluenceTable"><colgroup><col><col></colgroup><tbody><tr><td style="border: 1px solid #000000" class="confluenceTd">v7.1beta3</td><td style="border: 1px solid #000000" class="confluenceTd">1:11</td></tr><tr><td style="border: 1px solid #000000" class="confluenceTd">v7.1beta2</td><td style="border: 1px solid #000000" class="confluenceTd">1:29</td></tr><tr><td style="border: 1px solid #000000" class="confluenceTd">v6.xx</td><td style="border: 1px solid #000000" class="confluenceTd">1:02 - 8:30</td></tr></tbody></table>

-   Route Provider: CHR (ROSv6)
-   DUT_1: CCR2004
-   DUT_2: RB1100AHx2

<table class="wrapped confluenceTable"><colgroup><col><col></colgroup><tbody><tr><td style="border: 1px solid #000000" class="confluenceTd">v7.1beta3</td><td style="border: 1px solid #000000" class="confluenceTd">0:36</td></tr><tr><td style="border: 1px solid #000000" class="confluenceTd">v6.xx</td><td style="border: 1px solid #000000" class="confluenceTd">0:59</td></tr></tbody></table>

### Memory Usage:

```shell
Columns: TASKS, PRIVATE-MEM-BLOCKS, SHARED-MEM-BLOCKS, PSS, RSS, VMS, RETIRED, ID, PID, RPID, PROCESS-TIME, KERNEL-TIME, CUR-BUSY, MAX-BU>
   #  TASKS                         PRIVATE-M  SHARED-M  P  R  V  RE  ID       PID  R  PROCESS-  KERNEL-  CUR  MAX-BUS  CUR  MAX-CALC
   0  routing tables                12.0MiB    30.2MiB   0  0  0  12  main     111  0  8s980ms   2s60ms   0ms  1s320ms  0ms  10s700ms
      rib                                                                                                                           
      connected networks                                                                                                            
   1  fib                           2816.0KiB  0         0  0  0      fib      130  1  3s        4s660ms       7s220ms       7s220ms
   2  ospf                          512.0KiB   256.0KiB  0  0  0      ospf     137  1  1s220ms   130ms         980ms         1s40ms 
      connected networks                                                                                                            
   3  fantasy                       256.0KiB   0         0  0  0      fantasy  138  1  60ms      80ms          40ms          40ms   
   4  configuration and reporting   3840.0KiB  512.0KiB  0  0  0      static   139  1  1s270ms   110ms         260ms         260ms  
   5  rip                           512.0KiB   0         0  0  0      rip      136  1  120ms     70ms          60ms          120ms  
      connected networks                                                                                                            
   6  routing policy configuration  768.0KiB   768.0KiB  0  0  0      policy   133  1  2s290ms   3s170ms       80ms          80ms   
   7  BGP service                   768.0KiB   0         0  0  0      bgp      134  1  2s760ms   5s480ms       20ms          60ms   
      connected networks                                                                                                            
   8  BFD service                   512.0KiB   0         0  0  0      12       135  1  100ms     90ms          40ms          120ms  
      connected networks                                                                                                            
   9  BGP Input 10.155.101.186      3072.0KiB  6.2MiB    0  0  0      20       183  1  1s350ms   1s190ms       20ms          20ms   
  10  BGP Output 10.155.101.186     5.5MiB     0         0  0  0      21       184  1  5s400ms   500ms         3s880ms       3s880ms
  11  BGP Input 10.155.101.232      3072.0KiB  6.2MiB    0  0  0      22       187  1  970ms     740ms         20ms          20ms   
  12  BGP Output 10.155.101.232     8.2MiB     0         0  0  0      23       188  1  10s830ms  960ms         7s            7s     
  13  Global memory                            256.0KiB               global     0  0
```