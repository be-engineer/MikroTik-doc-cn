A simple Python3 example client.

-   usage: api.py _ip-address_ _username_ _password secure  
    i.e. api.py 10.0.0.1 Admin Badpassword123 True  
    _
-   after that type words from the keyboard, terminating them with a new line
-   Since an empty word terminates a sentence, you should press enter **twice** after the last word before a sentence will be sent to the router.

<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container" title="Hint: double-click to select code"><div class="line number1 index0 alt2" data-bidi-marker="true"><code class="py comments">#!/usr/bin/python3</code></div><div class="line number2 index1 alt1" data-bidi-marker="true"><code class="py comments"># -*- coding: latin-1 -*-</code></div><div class="line number3 index2 alt2" data-bidi-marker="true"><code class="py keyword">import</code> <code class="py plain">sys, posix, time, binascii, socket, select, ssl</code></div><div class="line number4 index3 alt1" data-bidi-marker="true"><code class="py keyword">import</code> <code class="py plain">hashlib</code></div><div class="line number5 index4 alt2" data-bidi-marker="true">&nbsp;</div><div class="line number6 index5 alt1" data-bidi-marker="true"><code class="py keyword">class</code> <code class="py plain">ApiRos:</code></div><div class="line number7 index6 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py string">"Routeros api"</code></div><div class="line number8 index7 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">def</code> <code class="py plain">__init__(</code><code class="py color1">self</code><code class="py plain">, sk):</code></div><div class="line number9 index8 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py color1">self</code><code class="py plain">.sk </code><code class="py keyword">=</code> <code class="py plain">sk</code></div><div class="line number10 index9 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py color1">self</code><code class="py plain">.currenttag </code><code class="py keyword">=</code> <code class="py value">0</code></div><div class="line number11 index10 alt2" data-bidi-marker="true">&nbsp;</div><div class="line number12 index11 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">def</code> <code class="py plain">login(</code><code class="py color1">self</code><code class="py plain">, username, pwd):</code></div><div class="line number13 index12 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">for</code> <code class="py plain">repl, attrs </code><code class="py keyword">in</code> <code class="py color1">self</code><code class="py plain">.talk([</code><code class="py string">"/login"</code><code class="py plain">, </code><code class="py string">"=name="</code> <code class="py keyword">+</code> <code class="py plain">username, </code><code class="py string">"=password="</code> <code class="py keyword">+</code> <code class="py plain">pwd]):</code></div><div class="line number14 index13 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">if</code> <code class="py plain">repl </code><code class="py keyword">=</code><code class="py keyword">=</code> <code class="py string">'!trap'</code><code class="py plain">:</code></div><div class="line number15 index14 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">return</code> <code class="py color1">False</code></div><div class="line number16 index15 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">elif</code> <code class="py string">'=ret'</code> <code class="py keyword">in</code> <code class="py plain">attrs.keys():</code></div><div class="line number17 index16 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py comments">#for repl, attrs in self.talk(["/login"]):</code></div><div class="line number18 index17 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">chal </code><code class="py keyword">=</code> <code class="py plain">binascii.unhexlify((attrs[</code><code class="py string">'=ret'</code><code class="py plain">]).encode(sys.stdout.encoding))</code></div><div class="line number19 index18 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">md </code><code class="py keyword">=</code> <code class="py plain">hashlib.md5()</code></div><div class="line number20 index19 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">md.update(b</code><code class="py string">'\x00'</code><code class="py plain">)</code></div><div class="line number21 index20 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">md.update(pwd.encode(sys.stdout.encoding))</code></div><div class="line number22 index21 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">md.update(chal)</code></div><div class="line number23 index22 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">for</code> <code class="py plain">repl2, attrs2 </code><code class="py keyword">in</code> <code class="py color1">self</code><code class="py plain">.talk([</code><code class="py string">"/login"</code><code class="py plain">, </code><code class="py string">"=name="</code> <code class="py keyword">+</code> <code class="py plain">username, </code><code class="py string">"=response=00"</code></div><div class="line number24 index23 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">+</code> <code class="py plain">binascii.hexlify(md.digest()).decode(sys.stdout.encoding) ]):</code></div><div class="line number25 index24 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">if</code> <code class="py plain">repl2 </code><code class="py keyword">=</code><code class="py keyword">=</code> <code class="py string">'!trap'</code><code class="py plain">:</code></div><div class="line number26 index25 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">return</code> <code class="py color1">False</code></div><div class="line number27 index26 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">return</code> <code class="py color1">True</code></div><div class="line number28 index27 alt1" data-bidi-marker="true">&nbsp;</div><div class="line number29 index28 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">def</code> <code class="py plain">talk(</code><code class="py color1">self</code><code class="py plain">, words):</code></div><div class="line number30 index29 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">if</code> <code class="py color1">self</code><code class="py plain">.writeSentence(words) </code><code class="py keyword">=</code><code class="py keyword">=</code> <code class="py value">0</code><code class="py plain">: </code><code class="py keyword">return</code></div><div class="line number31 index30 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">r </code><code class="py keyword">=</code> <code class="py plain">[]</code></div><div class="line number32 index31 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">while</code> <code class="py value">1</code><code class="py plain">:</code></div><div class="line number33 index32 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">i </code><code class="py keyword">=</code> <code class="py color1">self</code><code class="py plain">.readSentence();</code></div><div class="line number34 index33 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">if</code> <code class="py functions">len</code><code class="py plain">(i) </code><code class="py keyword">=</code><code class="py keyword">=</code> <code class="py value">0</code><code class="py plain">: </code><code class="py keyword">continue</code></div><div class="line number35 index34 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">reply </code><code class="py keyword">=</code> <code class="py plain">i[</code><code class="py value">0</code><code class="py plain">]</code></div><div class="line number36 index35 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">attrs </code><code class="py keyword">=</code> <code class="py plain">{}</code></div><div class="line number37 index36 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">for</code> <code class="py plain">w </code><code class="py keyword">in</code> <code class="py plain">i[</code><code class="py value">1</code><code class="py plain">:]:</code></div><div class="line number38 index37 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">j </code><code class="py keyword">=</code> <code class="py plain">w.find(</code><code class="py string">'='</code><code class="py plain">, </code><code class="py value">1</code><code class="py plain">)</code></div><div class="line number39 index38 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">if</code> <code class="py plain">(j </code><code class="py keyword">=</code><code class="py keyword">=</code> <code class="py keyword">-</code><code class="py value">1</code><code class="py plain">):</code></div><div class="line number40 index39 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">attrs[w] </code><code class="py keyword">=</code> <code class="py plain">''</code></div><div class="line number41 index40 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">else</code><code class="py plain">:</code></div><div class="line number42 index41 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">attrs[w[:j]] </code><code class="py keyword">=</code> <code class="py plain">w[j</code><code class="py keyword">+</code><code class="py value">1</code><code class="py plain">:]</code></div><div class="line number43 index42 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">r.append((reply, attrs))</code></div><div class="line number44 index43 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">if</code> <code class="py plain">reply </code><code class="py keyword">=</code><code class="py keyword">=</code> <code class="py string">'!done'</code><code class="py plain">: </code><code class="py keyword">return</code> <code class="py plain">r</code></div><div class="line number45 index44 alt2" data-bidi-marker="true">&nbsp;</div><div class="line number46 index45 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">def</code> <code class="py plain">writeSentence(</code><code class="py color1">self</code><code class="py plain">, words):</code></div><div class="line number47 index46 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">ret </code><code class="py keyword">=</code> <code class="py value">0</code></div><div class="line number48 index47 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">for</code> <code class="py plain">w </code><code class="py keyword">in</code> <code class="py plain">words:</code></div><div class="line number49 index48 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py color1">self</code><code class="py plain">.writeWord(w)</code></div><div class="line number50 index49 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">ret </code><code class="py keyword">+</code><code class="py keyword">=</code> <code class="py value">1</code></div><div class="line number51 index50 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py color1">self</code><code class="py plain">.writeWord('')</code></div><div class="line number52 index51 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">return</code> <code class="py plain">ret</code></div><div class="line number53 index52 alt2" data-bidi-marker="true">&nbsp;</div><div class="line number54 index53 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">def</code> <code class="py plain">readSentence(</code><code class="py color1">self</code><code class="py plain">):</code></div><div class="line number55 index54 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">r </code><code class="py keyword">=</code> <code class="py plain">[]</code></div><div class="line number56 index55 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">while</code> <code class="py value">1</code><code class="py plain">:</code></div><div class="line number57 index56 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">w </code><code class="py keyword">=</code> <code class="py color1">self</code><code class="py plain">.readWord()</code></div><div class="line number58 index57 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">if</code> <code class="py plain">w </code><code class="py keyword">=</code><code class="py keyword">=</code> <code class="py plain">'': </code><code class="py keyword">return</code> <code class="py plain">r</code></div><div class="line number59 index58 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">r.append(w)</code></div><div class="line number60 index59 alt1" data-bidi-marker="true">&nbsp;</div><div class="line number61 index60 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">def</code> <code class="py plain">writeWord(</code><code class="py color1">self</code><code class="py plain">, w):</code></div><div class="line number62 index61 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py functions">print</code><code class="py plain">((</code><code class="py string">"&lt;&lt;&lt; "</code> <code class="py keyword">+</code> <code class="py plain">w))</code></div><div class="line number63 index62 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py color1">self</code><code class="py plain">.writeLen(</code><code class="py functions">len</code><code class="py plain">(w))</code></div><div class="line number64 index63 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py color1">self</code><code class="py plain">.writeStr(w)</code></div><div class="line number65 index64 alt2" data-bidi-marker="true">&nbsp;</div><div class="line number66 index65 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">def</code> <code class="py plain">readWord(</code><code class="py color1">self</code><code class="py plain">):</code></div><div class="line number67 index66 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">ret </code><code class="py keyword">=</code> <code class="py color1">self</code><code class="py plain">.readStr(</code><code class="py color1">self</code><code class="py plain">.readLen())</code></div><div class="line number68 index67 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py functions">print</code><code class="py plain">((</code><code class="py string">"&gt;&gt;&gt; "</code> <code class="py keyword">+</code> <code class="py plain">ret))</code></div><div class="line number69 index68 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">return</code> <code class="py plain">ret</code></div><div class="line number70 index69 alt1" data-bidi-marker="true">&nbsp;</div><div class="line number71 index70 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">def</code> <code class="py plain">writeLen(</code><code class="py color1">self</code><code class="py plain">, l):</code></div><div class="line number72 index71 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">if</code> <code class="py plain">l &lt; </code><code class="py value">0x80</code><code class="py plain">:</code></div><div class="line number73 index72 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py color1">self</code><code class="py plain">.writeByte((l).to_bytes(</code><code class="py value">1</code><code class="py plain">, sys.byteorder))</code></div><div class="line number74 index73 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">elif</code> <code class="py plain">l &lt; </code><code class="py value">0x4000</code><code class="py plain">:</code></div><div class="line number75 index74 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">l |</code><code class="py keyword">=</code> <code class="py value">0x8000</code></div><div class="line number76 index75 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">tmp </code><code class="py keyword">=</code> <code class="py plain">(l &gt;&gt; </code><code class="py value">8</code><code class="py plain">) &amp; </code><code class="py value">0xFF</code></div><div class="line number77 index76 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py color1">self</code><code class="py plain">.writeByte(((l &gt;&gt; </code><code class="py value">8</code><code class="py plain">) &amp; </code><code class="py value">0xFF</code><code class="py plain">).to_bytes(</code><code class="py value">1</code><code class="py plain">, sys.byteorder))</code></div><div class="line number78 index77 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py color1">self</code><code class="py plain">.writeByte((l &amp; </code><code class="py value">0xFF</code><code class="py plain">).to_bytes(</code><code class="py value">1</code><code class="py plain">, sys.byteorder))</code></div><div class="line number79 index78 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">elif</code> <code class="py plain">l &lt; </code><code class="py value">0x200000</code><code class="py plain">:</code></div><div class="line number80 index79 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">l |</code><code class="py keyword">=</code> <code class="py value">0xC00000</code></div><div class="line number81 index80 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py color1">self</code><code class="py plain">.writeByte(((l &gt;&gt; </code><code class="py value">16</code><code class="py plain">) &amp; </code><code class="py value">0xFF</code><code class="py plain">).to_bytes(</code><code class="py value">1</code><code class="py plain">, sys.byteorder))</code></div><div class="line number82 index81 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py color1">self</code><code class="py plain">.writeByte(((l &gt;&gt; </code><code class="py value">8</code><code class="py plain">) &amp; </code><code class="py value">0xFF</code><code class="py plain">).to_bytes(</code><code class="py value">1</code><code class="py plain">, sys.byteorder))</code></div><div class="line number83 index82 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py color1">self</code><code class="py plain">.writeByte((l &amp; </code><code class="py value">0xFF</code><code class="py plain">).to_bytes(</code><code class="py value">1</code><code class="py plain">, sys.byteorder))</code></div><div class="line number84 index83 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">elif</code> <code class="py plain">l &lt; </code><code class="py value">0x10000000</code><code class="py plain">:</code></div><div class="line number85 index84 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">l |</code><code class="py keyword">=</code> <code class="py value">0xE0000000</code></div><div class="line number86 index85 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py color1">self</code><code class="py plain">.writeByte(((l &gt;&gt; </code><code class="py value">24</code><code class="py plain">) &amp; </code><code class="py value">0xFF</code><code class="py plain">).to_bytes(</code><code class="py value">1</code><code class="py plain">, sys.byteorder))</code></div><div class="line number87 index86 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py color1">self</code><code class="py plain">.writeByte(((l &gt;&gt; </code><code class="py value">16</code><code class="py plain">) &amp; </code><code class="py value">0xFF</code><code class="py plain">).to_bytes(</code><code class="py value">1</code><code class="py plain">, sys.byteorder))</code></div><div class="line number88 index87 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py color1">self</code><code class="py plain">.writeByte(((l &gt;&gt; </code><code class="py value">8</code><code class="py plain">) &amp; </code><code class="py value">0xFF</code><code class="py plain">).to_bytes(</code><code class="py value">1</code><code class="py plain">, sys.byteorder))</code></div><div class="line number89 index88 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py color1">self</code><code class="py plain">.writeByte((l &amp; </code><code class="py value">0xFF</code><code class="py plain">).to_bytes(</code><code class="py value">1</code><code class="py plain">, sys.byteorder))</code></div><div class="line number90 index89 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">else</code><code class="py plain">:</code></div><div class="line number91 index90 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py color1">self</code><code class="py plain">.writeByte((</code><code class="py value">0xF0</code><code class="py plain">).to_bytes(</code><code class="py value">1</code><code class="py plain">, sys.byteorder))</code></div><div class="line number92 index91 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py color1">self</code><code class="py plain">.writeByte(((l &gt;&gt; </code><code class="py value">24</code><code class="py plain">) &amp; </code><code class="py value">0xFF</code><code class="py plain">).to_bytes(</code><code class="py value">1</code><code class="py plain">, sys.byteorder))</code></div><div class="line number93 index92 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py color1">self</code><code class="py plain">.writeByte(((l &gt;&gt; </code><code class="py value">16</code><code class="py plain">) &amp; </code><code class="py value">0xFF</code><code class="py plain">).to_bytes(</code><code class="py value">1</code><code class="py plain">, sys.byteorder))</code></div><div class="line number94 index93 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py color1">self</code><code class="py plain">.writeByte(((l &gt;&gt; </code><code class="py value">8</code><code class="py plain">) &amp; </code><code class="py value">0xFF</code><code class="py plain">).to_bytes(</code><code class="py value">1</code><code class="py plain">, sys.byteorder))</code></div><div class="line number95 index94 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py color1">self</code><code class="py plain">.writeByte((l &amp; </code><code class="py value">0xFF</code><code class="py plain">).to_bytes(</code><code class="py value">1</code><code class="py plain">, sys.byteorder))</code></div><div class="line number96 index95 alt1" data-bidi-marker="true">&nbsp;</div><div class="line number97 index96 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">def</code> <code class="py plain">readLen(</code><code class="py color1">self</code><code class="py plain">):</code></div><div class="line number98 index97 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">c </code><code class="py keyword">=</code> <code class="py functions">ord</code><code class="py plain">(</code><code class="py color1">self</code><code class="py plain">.readStr(</code><code class="py value">1</code><code class="py plain">))</code></div><div class="line number99 index98 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py comments"># print ("&gt;rl&gt; %i" % c)</code></div><div class="line number100 index99 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">if</code> <code class="py plain">(c &amp; </code><code class="py value">0x80</code><code class="py plain">) </code><code class="py keyword">=</code><code class="py keyword">=</code> <code class="py value">0x00</code><code class="py plain">:</code></div><div class="line number101 index100 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">pass</code></div><div class="line number102 index101 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">elif</code> <code class="py plain">(c &amp; </code><code class="py value">0xC0</code><code class="py plain">) </code><code class="py keyword">=</code><code class="py keyword">=</code> <code class="py value">0x80</code><code class="py plain">:</code></div><div class="line number103 index102 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">c &amp;</code><code class="py keyword">=</code> <code class="py plain">~</code><code class="py value">0xC0</code></div><div class="line number104 index103 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">c &lt;&lt;</code><code class="py keyword">=</code> <code class="py value">8</code></div><div class="line number105 index104 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">c </code><code class="py keyword">+</code><code class="py keyword">=</code> <code class="py functions">ord</code><code class="py plain">(</code><code class="py color1">self</code><code class="py plain">.readStr(</code><code class="py value">1</code><code class="py plain">))</code></div><div class="line number106 index105 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">elif</code> <code class="py plain">(c &amp; </code><code class="py value">0xE0</code><code class="py plain">) </code><code class="py keyword">=</code><code class="py keyword">=</code> <code class="py value">0xC0</code><code class="py plain">:</code></div><div class="line number107 index106 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">c &amp;</code><code class="py keyword">=</code> <code class="py plain">~</code><code class="py value">0xE0</code></div><div class="line number108 index107 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">c &lt;&lt;</code><code class="py keyword">=</code> <code class="py value">8</code></div><div class="line number109 index108 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">c </code><code class="py keyword">+</code><code class="py keyword">=</code> <code class="py functions">ord</code><code class="py plain">(</code><code class="py color1">self</code><code class="py plain">.readStr(</code><code class="py value">1</code><code class="py plain">))</code></div><div class="line number110 index109 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">c &lt;&lt;</code><code class="py keyword">=</code> <code class="py value">8</code></div><div class="line number111 index110 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">c </code><code class="py keyword">+</code><code class="py keyword">=</code> <code class="py functions">ord</code><code class="py plain">(</code><code class="py color1">self</code><code class="py plain">.readStr(</code><code class="py value">1</code><code class="py plain">))</code></div><div class="line number112 index111 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">elif</code> <code class="py plain">(c &amp; </code><code class="py value">0xF0</code><code class="py plain">) </code><code class="py keyword">=</code><code class="py keyword">=</code> <code class="py value">0xE0</code><code class="py plain">:</code></div><div class="line number113 index112 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">c &amp;</code><code class="py keyword">=</code> <code class="py plain">~</code><code class="py value">0xF0</code></div><div class="line number114 index113 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">c &lt;&lt;</code><code class="py keyword">=</code> <code class="py value">8</code></div><div class="line number115 index114 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">c </code><code class="py keyword">+</code><code class="py keyword">=</code> <code class="py functions">ord</code><code class="py plain">(</code><code class="py color1">self</code><code class="py plain">.readStr(</code><code class="py value">1</code><code class="py plain">))</code></div><div class="line number116 index115 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">c &lt;&lt;</code><code class="py keyword">=</code> <code class="py value">8</code></div><div class="line number117 index116 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">c </code><code class="py keyword">+</code><code class="py keyword">=</code> <code class="py functions">ord</code><code class="py plain">(</code><code class="py color1">self</code><code class="py plain">.readStr(</code><code class="py value">1</code><code class="py plain">))</code></div><div class="line number118 index117 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">c &lt;&lt;</code><code class="py keyword">=</code> <code class="py value">8</code></div><div class="line number119 index118 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">c </code><code class="py keyword">+</code><code class="py keyword">=</code> <code class="py functions">ord</code><code class="py plain">(</code><code class="py color1">self</code><code class="py plain">.readStr(</code><code class="py value">1</code><code class="py plain">))</code></div><div class="line number120 index119 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">elif</code> <code class="py plain">(c &amp; </code><code class="py value">0xF8</code><code class="py plain">) </code><code class="py keyword">=</code><code class="py keyword">=</code> <code class="py value">0xF0</code><code class="py plain">:</code></div><div class="line number121 index120 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">c </code><code class="py keyword">=</code> <code class="py functions">ord</code><code class="py plain">(</code><code class="py color1">self</code><code class="py plain">.readStr(</code><code class="py value">1</code><code class="py plain">))</code></div><div class="line number122 index121 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">c &lt;&lt;</code><code class="py keyword">=</code> <code class="py value">8</code></div><div class="line number123 index122 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">c </code><code class="py keyword">+</code><code class="py keyword">=</code> <code class="py functions">ord</code><code class="py plain">(</code><code class="py color1">self</code><code class="py plain">.readStr(</code><code class="py value">1</code><code class="py plain">))</code></div><div class="line number124 index123 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">c &lt;&lt;</code><code class="py keyword">=</code> <code class="py value">8</code></div><div class="line number125 index124 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">c </code><code class="py keyword">+</code><code class="py keyword">=</code> <code class="py functions">ord</code><code class="py plain">(</code><code class="py color1">self</code><code class="py plain">.readStr(</code><code class="py value">1</code><code class="py plain">))</code></div><div class="line number126 index125 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">c &lt;&lt;</code><code class="py keyword">=</code> <code class="py value">8</code></div><div class="line number127 index126 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">c </code><code class="py keyword">+</code><code class="py keyword">=</code> <code class="py functions">ord</code><code class="py plain">(</code><code class="py color1">self</code><code class="py plain">.readStr(</code><code class="py value">1</code><code class="py plain">))</code></div><div class="line number128 index127 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">return</code> <code class="py plain">c</code></div><div class="line number129 index128 alt2" data-bidi-marker="true">&nbsp;</div><div class="line number130 index129 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">def</code> <code class="py plain">writeStr(</code><code class="py color1">self</code><code class="py plain">, </code><code class="py functions">str</code><code class="py plain">):</code></div><div class="line number131 index130 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">n </code><code class="py keyword">=</code> <code class="py value">0</code><code class="py plain">;</code></div><div class="line number132 index131 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">while</code> <code class="py plain">n &lt; </code><code class="py functions">len</code><code class="py plain">(</code><code class="py functions">str</code><code class="py plain">):</code></div><div class="line number133 index132 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">r </code><code class="py keyword">=</code> <code class="py color1">self</code><code class="py plain">.sk.send(bytes(</code><code class="py functions">str</code><code class="py plain">[n:], </code><code class="py string">'UTF-8'</code><code class="py plain">))</code></div><div class="line number134 index133 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">if</code> <code class="py plain">r </code><code class="py keyword">=</code><code class="py keyword">=</code> <code class="py value">0</code><code class="py plain">: </code><code class="py keyword">raise</code> <code class="py plain">RuntimeError(</code><code class="py string">"connection closed by remote end"</code><code class="py plain">)</code></div><div class="line number135 index134 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">n </code><code class="py keyword">+</code><code class="py keyword">=</code> <code class="py plain">r</code></div><div class="line number136 index135 alt1" data-bidi-marker="true">&nbsp;</div><div class="line number137 index136 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">def</code> <code class="py plain">writeByte(</code><code class="py color1">self</code><code class="py plain">, </code><code class="py functions">str</code><code class="py plain">):</code></div><div class="line number138 index137 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">n </code><code class="py keyword">=</code> <code class="py value">0</code><code class="py plain">;</code></div><div class="line number139 index138 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">while</code> <code class="py plain">n &lt; </code><code class="py functions">len</code><code class="py plain">(</code><code class="py functions">str</code><code class="py plain">):</code></div><div class="line number140 index139 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">r </code><code class="py keyword">=</code> <code class="py color1">self</code><code class="py plain">.sk.send(</code><code class="py functions">str</code><code class="py plain">[n:])</code></div><div class="line number141 index140 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">if</code> <code class="py plain">r </code><code class="py keyword">=</code><code class="py keyword">=</code> <code class="py value">0</code><code class="py plain">: </code><code class="py keyword">raise</code> <code class="py plain">RuntimeError(</code><code class="py string">"connection closed by remote end"</code><code class="py plain">)</code></div><div class="line number142 index141 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">n </code><code class="py keyword">+</code><code class="py keyword">=</code> <code class="py plain">r</code></div><div class="line number143 index142 alt2" data-bidi-marker="true">&nbsp;</div><div class="line number144 index143 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">def</code> <code class="py plain">readStr(</code><code class="py color1">self</code><code class="py plain">, length):</code></div><div class="line number145 index144 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">ret </code><code class="py keyword">=</code> <code class="py plain">''</code></div><div class="line number146 index145 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py comments"># print ("length: %i" % length)</code></div><div class="line number147 index146 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">while</code> <code class="py functions">len</code><code class="py plain">(ret) &lt; length:</code></div><div class="line number148 index147 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">s </code><code class="py keyword">=</code> <code class="py color1">self</code><code class="py plain">.sk.recv(length </code><code class="py keyword">-</code> <code class="py functions">len</code><code class="py plain">(ret))</code></div><div class="line number149 index148 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">if</code> <code class="py plain">s </code><code class="py keyword">=</code><code class="py keyword">=</code> <code class="py plain">b'': </code><code class="py keyword">raise</code> <code class="py plain">RuntimeError(</code><code class="py string">"connection closed by remote end"</code><code class="py plain">)</code></div><div class="line number150 index149 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py comments"># print (b"&gt;&gt;&gt;" + s)</code></div><div class="line number151 index150 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py comments"># atgriezt kaa byte ja nav ascii chars</code></div><div class="line number152 index151 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">if</code> <code class="py plain">s &gt;</code><code class="py keyword">=</code> <code class="py plain">(</code><code class="py value">128</code><code class="py plain">).to_bytes(</code><code class="py value">1</code><code class="py plain">, </code><code class="py string">"big"</code><code class="py plain">) :</code></div><div class="line number153 index152 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">return</code> <code class="py plain">s</code></div><div class="line number154 index153 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py comments"># print(("&gt;&gt;&gt; " + s.decode(sys.stdout.encoding, 'ignore')))</code></div><div class="line number155 index154 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">ret </code><code class="py keyword">+</code><code class="py keyword">=</code> <code class="py plain">s.decode(sys.stdout.encoding, </code><code class="py string">"replace"</code><code class="py plain">)</code></div><div class="line number156 index155 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">return</code> <code class="py plain">ret</code></div><div class="line number157 index156 alt2" data-bidi-marker="true">&nbsp;</div><div class="line number158 index157 alt1" data-bidi-marker="true"><code class="py keyword">def</code> <code class="py plain">open_socket(dst, port, secure</code><code class="py keyword">=</code><code class="py color1">False</code><code class="py plain">):</code></div><div class="line number159 index158 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">s </code><code class="py keyword">=</code> <code class="py color1">None</code></div><div class="line number160 index159 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">res </code><code class="py keyword">=</code> <code class="py plain">socket.getaddrinfo(dst, port, socket.AF_UNSPEC, socket.SOCK_STREAM)</code></div><div class="line number161 index160 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">af, socktype, proto, canonname, sockaddr </code><code class="py keyword">=</code> <code class="py plain">res[</code><code class="py value">0</code><code class="py plain">]</code></div><div class="line number162 index161 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">skt </code><code class="py keyword">=</code> <code class="py plain">socket.socket(af, socktype, proto)</code></div><div class="line number163 index162 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">if</code> <code class="py plain">secure:</code></div><div class="line number164 index163 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">s </code><code class="py keyword">=</code> <code class="py plain">ssl.wrap_socket(skt, ssl_version</code><code class="py keyword">=</code><code class="py plain">ssl.PROTOCOL_TLSv1_2, ciphers</code><code class="py keyword">=</code><code class="py string">"ECDHE-RSA-AES256-GCM-SHA384"</code><code class="py plain">) </code><code class="py comments">#ADH-AES128-SHA256</code></div><div class="line number165 index164 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">else</code><code class="py plain">:</code></div><div class="line number166 index165 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">s </code><code class="py keyword">=</code> <code class="py plain">skt</code></div><div class="line number167 index166 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">s.connect(sockaddr)</code></div><div class="line number168 index167 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">return</code> <code class="py plain">s</code></div><div class="line number169 index168 alt2" data-bidi-marker="true">&nbsp;</div><div class="line number170 index169 alt1" data-bidi-marker="true"><code class="py keyword">def</code> <code class="py plain">main():</code></div><div class="line number171 index170 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">s </code><code class="py keyword">=</code> <code class="py color1">None</code></div><div class="line number172 index171 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">dst </code><code class="py keyword">=</code> <code class="py plain">sys.argv[</code><code class="py value">1</code><code class="py plain">]</code></div><div class="line number173 index172 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">user </code><code class="py keyword">=</code> <code class="py string">"admin"</code></div><div class="line number174 index173 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">passw </code><code class="py keyword">=</code> <code class="py plain">""</code></div><div class="line number175 index174 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">secure </code><code class="py keyword">=</code> <code class="py color1">False</code></div><div class="line number176 index175 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">port </code><code class="py keyword">=</code> <code class="py value">0</code></div><div class="line number177 index176 alt2" data-bidi-marker="true">&nbsp;</div><div class="line number178 index177 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py comments"># use default username and pasword if not specified &nbsp;&nbsp;&nbsp;&nbsp;</code></div><div class="line number179 index178 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">arg_nr </code><code class="py keyword">=</code> <code class="py functions">len</code><code class="py plain">(sys.argv)</code></div><div class="line number180 index179 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">if</code> <code class="py plain">arg_nr &gt; </code><code class="py value">2</code><code class="py plain">: user </code><code class="py keyword">=</code> <code class="py plain">sys.argv[</code><code class="py value">2</code><code class="py plain">]</code></div><div class="line number181 index180 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">if</code> <code class="py plain">arg_nr &gt; </code><code class="py value">3</code><code class="py plain">: passw </code><code class="py keyword">=</code> <code class="py plain">sys.argv[</code><code class="py value">3</code><code class="py plain">]</code></div><div class="line number182 index181 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">if</code> <code class="py plain">arg_nr &gt; </code><code class="py value">4</code><code class="py plain">: secure </code><code class="py keyword">=</code> <code class="py plain">sys.argv[</code><code class="py value">4</code><code class="py plain">]</code></div><div class="line number183 index182 alt2" data-bidi-marker="true">&nbsp;</div><div class="line number184 index183 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">if</code> <code class="py plain">(port</code><code class="py keyword">=</code><code class="py keyword">=</code><code class="py value">0</code><code class="py plain">):</code></div><div class="line number185 index184 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">port </code><code class="py keyword">=</code> <code class="py value">8729</code> <code class="py keyword">if</code> <code class="py plain">secure </code><code class="py keyword">else</code> <code class="py value">8728</code></div><div class="line number186 index185 alt1" data-bidi-marker="true">&nbsp;</div><div class="line number187 index186 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">s </code><code class="py keyword">=</code> <code class="py plain">open_socket(dst, port, secure)</code></div><div class="line number188 index187 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">if</code> <code class="py plain">s </code><code class="py keyword">is</code> <code class="py color1">None</code><code class="py plain">:</code></div><div class="line number189 index188 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py functions">print</code> <code class="py plain">(</code><code class="py string">'could not open socket'</code><code class="py plain">)</code></div><div class="line number190 index189 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">sys.exit(</code><code class="py value">1</code><code class="py plain">)</code></div><div class="line number191 index190 alt2" data-bidi-marker="true">&nbsp;</div><div class="line number192 index191 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">apiros </code><code class="py keyword">=</code> <code class="py plain">ApiRos(s);</code></div><div class="line number193 index192 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">if</code> <code class="py keyword">not</code> <code class="py plain">apiros.login(user, passw):</code></div><div class="line number194 index193 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">return</code></div><div class="line number195 index194 alt2" data-bidi-marker="true">&nbsp;</div><div class="line number196 index195 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">inputsentence </code><code class="py keyword">=</code> <code class="py plain">[]</code></div><div class="line number197 index196 alt2" data-bidi-marker="true">&nbsp;</div><div class="line number198 index197 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">while</code> <code class="py value">1</code><code class="py plain">:</code></div><div class="line number199 index198 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">r </code><code class="py keyword">=</code> <code class="py plain">select.select([s, sys.stdin], [], [], </code><code class="py color1">None</code><code class="py plain">)</code></div><div class="line number200 index199 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">if</code> <code class="py plain">s </code><code class="py keyword">in</code> <code class="py plain">r[</code><code class="py value">0</code><code class="py plain">]:</code></div><div class="line number201 index200 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py comments"># something to read in socket, read sentence</code></div><div class="line number202 index201 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">x </code><code class="py keyword">=</code> <code class="py plain">apiros.readSentence()</code></div><div class="line number203 index202 alt2" data-bidi-marker="true">&nbsp;</div><div class="line number204 index203 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">if</code> <code class="py plain">sys.stdin </code><code class="py keyword">in</code> <code class="py plain">r[</code><code class="py value">0</code><code class="py plain">]:</code></div><div class="line number205 index204 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py comments"># read line from input and strip off newline</code></div><div class="line number206 index205 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">l </code><code class="py keyword">=</code> <code class="py plain">sys.stdin.readline()</code></div><div class="line number207 index206 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">l </code><code class="py keyword">=</code> <code class="py plain">l[:</code><code class="py keyword">-</code><code class="py value">1</code><code class="py plain">]</code></div><div class="line number208 index207 alt1" data-bidi-marker="true">&nbsp;</div><div class="line number209 index208 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py comments"># if empty line, send sentence and start with new</code></div><div class="line number210 index209 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py comments"># otherwise append to input sentence</code></div><div class="line number211 index210 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">if</code> <code class="py plain">l </code><code class="py keyword">=</code><code class="py keyword">=</code> <code class="py plain">'':</code></div><div class="line number212 index211 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">apiros.writeSentence(inputsentence)</code></div><div class="line number213 index212 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">inputsentence </code><code class="py keyword">=</code> <code class="py plain">[]</code></div><div class="line number214 index213 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py keyword">else</code><code class="py plain">:</code></div><div class="line number215 index214 alt2" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">inputsentence.append(l)</code></div><div class="line number216 index215 alt1" data-bidi-marker="true">&nbsp;</div><div class="line number217 index216 alt2" data-bidi-marker="true"><code class="py keyword">if</code> <code class="py plain">__name__ </code><code class="py keyword">=</code><code class="py keyword">=</code> <code class="py string">'__main__'</code><code class="py plain">:</code></div><div class="line number218 index217 alt1" data-bidi-marker="true"><code class="py spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="py plain">main()</code></div></div></td></tr></tbody></table>