# 概述

**Sub-menu:** `/ppp`

MikroTik RouterOS 提供可扩展的身份验证、授权和记帐 (AAA) 功能。

使用用户数据库和配置文件数据库执行本地身份验证。 给定用户的实际配置是使用用户数据库中的相应用户记录、配置文件数据库中的关联项目以及配置文件数据库中的项目组成的，配置文件数据库中的项目被设置为用户正在验证的给定服务的默认值。 配置文件数据库中的默认配置文件设置具有最低优先级，而用户数据库中的用户访问记录设置具有最高优先级，唯一的例外是特定 IP 地址优先于本地地址和远程地址设置中的 IP 池，稍后描述。

对 RADIUS 身份验证的支持使 ISP 或网络管理员能够在整个大型网络中从一台服务器管理 PPP 用户访问和审计。 MikroTik RouterOS 有一个 [RADIUS 客户端](https://wiki.mikrotik.com/wiki/Manual:RADIUS_Client "Manual:RADIUS Client")，它可以为 PPP、[PPPoE](https://wiki.mikrotik.com/wiki/Manual:Interface/PPPoE“Manual:Interface/PPPoE”），[PPTP]（https://wiki.mikrotik.com/wiki/Manual:Interface/PPTP”Manual:Interface/PPTP”) ， [L2TP](https://wiki.mikrotik.com/wiki/Manual:Interface/L2TP "Manual:Interface/L2TP") 和 ISDN 连接。 从 RADIUS 服务器收到的属性会覆盖默认配置文件中设置的属性，但如果未收到某些参数，则它们会从相应的默认配置文件中获取。

## 用户配置文件

**Sub-menu：** `/ppp profile`

PPP 配置文件用于定义存储在“/ppp secret”Submenu下的用户访问记录的默认值。 `/ppp secret` 用户数据库中的设置会覆盖相应的 `/ppp profile` 设置，但当指定为本地地址或远程地址参数时，单个 IP 地址始终优先于 IP 池。

**属性**

| 属性                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | 说明                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **address-list** (_string_; Default: )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | [地址列表](https://wiki.mikrotik.com/wiki/Manual:IP/Firewall/Address_list "Manual:IP/Firewall/Address list") 将添加 ppp 分配地址的名称。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **bridge** (_string_; Default: )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | [bridge](https://wiki.mikrotik.com/wiki/Manual:Interface/Bridge "Manual:Interface/Bridge") 接口的名称，ppp 接口将作为从端口添加到该接口。 两个隧道端点（服务器和客户端）都必须在桥接中才能使这项工作正常进行，请参阅 [BCP 桥接](https://wiki.mikrotik.com/wiki/Manual:BCP_bridging_(PPP_tunnel_bridging) )。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **bridge-horizon** (_integer 0..429496729_; Default: )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | 为动态创建的网桥端口使用水平分割值。 可用于防止桥接环路和隔离流量。 为一组端口设置相同的值，防止它们向具有相同水平值的端口发送数据。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **bridge-learning** (_default     \| no \| yes_; Default: **default**)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | 更改动态创建的桥接端口上的 MAC 学习行为：<br>- yes - 启用 MAC 学习<br>- no - 禁用 MAC 学习<br>- default - 从接口默认配置文件中获取此值； 如果这是接口默认配置文件，则与 yes 相同                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **bridge-path-cost** (_integer 0..429496729_; Default: )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | 动态创建的桥接端口使用的路径成本，STP/RSTP 使用它来确定最佳路径，MSTP 使用它来确定区域之间的最佳路径。 当网桥协议模式设置为无时，此属性无效。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **bridge-port-priority** (_integer 0..240_; Default: )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | 动态创建的桥接端口使用的优先级，STP/RSTP用于确定根端口，MSTP用于确定区域间的根端口。 当网桥协议模式设置为无时，此属性无效。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **change-tcp-mss** (_yes \| no \| default_; Default: **default**)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | 修改连接 MSS 设置（仅适用于 IPv4）：<br>- yes - 调整连接 MSS 值<br>- no - 不调整连接 MSS 值<br>- default - 从接口默认配置文件中获取该值； 如果这是接口默认配置文件，则与no相同                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **comment** (_string_; Default: )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **dhcpv6-pd-pool** (_string_; Default: )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | [IPv6 地址池](https://wiki.mikrotik.com/wiki/Manual:IPv6/Pool "Manual:IPv6/Pool") 的名称将由动态创建的 [DHCPv6-PD 服务器](https://wiki.mikrotik.com/wiki/Manual:IPv6/DHCP_Server "Manual:IPv6/DHCP Server") 当客户端连接时。 [`阅读更多 >>`](https://wiki.mikrotik.com/wiki/Manual:IPv6_PD_over_PPP "Manual:IPv6 PD over PPP")                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **dns-server** (_IP_; Default: )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | 提供给 ppp 客户端的 DNS 服务器的 IP 地址                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **idle-timeout** (_time_; Default: )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | 指定在没有活动存在的情况下链接将终止的时间量。 默认情况下不设置超时                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **incoming-filter** (_string_; Default: )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 传入数据包的防火墙链名称。 指定链控制来自客户端的每个数据包。 应手动添加 ppp 链，并应将带有 action=jump jump-target=ppp 的规则添加到其他相关链，以便此功能起作用。 有关详细信息，请查看 [示例](https://wiki.mikrotik.com/wiki/Manual:PPP_AAA#Examples) 部分                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **local-address** (_IP address                                         \| pool_; Default: )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | [地址池](https://wiki.mikrotik.com/wiki/Manual:IP/Pools "Manual:IP/Pools") 的隧道地址或名称，地址从中分配给本地 ppp 接口。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **name** (_string_; Default: )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | PPP 配置文件名                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **only-one** (_yes                                                                          \| no \| default_; Default: **default**)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | 定义是否允许用户一次拥有多个 ppp 会话<br>- yes - 一个用户一次不允许有一个以上的 ppp 会话<br>- no - 允许用户一次拥有多个 ppp 会话<br>- default - 从接口默认配置文件中导出该值； 如果这是接口默认配置文件，则与否相同                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **outgoing-filter** (_string_; Default: )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 传出数据包的防火墙链名称。 指定的链控制每个发往客户端的数据包。 应手动添加 PPP 链，并应将带有 action=jump jump-target=ppp 的规则添加到其他相关链，以便此功能起作用。 有关详细信息，请参阅示例部分。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **rate-limit** (_string_; Default: )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | 以 **rx-rate[/tx-rate] [rx-burst-rate[/tx-burst-rate] [rx-burst-threshold[/tx-burst-threshold 形式的速率限制 ] [rx-burst-time[/tx-burst-time] [优先级] [rx-rate-min[/tx-rate-min]]]]** 来自 路由器的角度（所以“rx”是客户端上传，“tx”是客户端下载）。 所有速率均以比特每秒为单位，除非后跟可选的“k”后缀（千比特每秒）或“M”后缀（兆比特每秒）。 如果未指定 tx-rate，则 rx-rate 也用作 tx-rate。 这同样适用于 tx-burst-rate、tx-burst-threshold 和 tx-burst-time。 如果未指定 rx-burst-threshold 和 tx-burst-threshold（但指定了 burst-rate），则使用 rx-rate 和 tx-rate 作为突发阈值。 如果 rx-burst-time 和 tx-burst-time 均未指定，则默认使用 1s。 优先级取值 1..8，其中1表示最高优先级，8 最低。 如果未指定 rx-rate-min 和 tx-rate-min，则使用 rx-rate 和 tx-rate 值。 rx-rate-min 和 tx-rate-min 值不能超过 rx-rate 和 tx-rate 值。 |
| **remote-address** (_IP_; Default: )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | [地址池](https://wiki.mikrotik.com/wiki/Manual:IP/Pools "Manual:IP/Pools") 的隧道地址或名称，地址从中分配给远程 ppp 接口。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **remote-ipv6-prefix-pool** (_string                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     \| none_; Default: **none**) | 将 IPv6 池中的前缀分配给客户端并安装相应的 IPv6 路由。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **session-timeout** (_time_; Default: )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | 连接可以保持的最长时间。 默认情况下没有设置时间限制。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **use-compression** (_yes                                                                                                            \| no                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             \| default_; Default: **default**)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 指定是否使用数据压缩。<br>- yes - 启用数据压缩<br>- no - 禁用数据压缩<br>- default - 从接口默认配置文件中获取此值； 如果这是接口默认配置文件，则与 no 相同<br>此设置不影响 OVPN 隧道。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **use-encryption** (_yes \| no \| default \| require_; Default: **default**)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | 指定是否使用数据加密。<br>- yes - 启用数据加密<br>- no - 禁用数据加密<br>- default - 从接口默认配置文件中获取此值； 如果这是接口默认配置文件，则与否相同<br>- require - 明确要求加密<br> 此设置不适用于 OVPN 和 SSTP 隧道。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **use-ipv6** (_yes \| no \| default \| require_; Default: **default**)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | 指定是否允许 IPv6。 如果安装了 IPv6 包，则默认启用。<br>-   yes - enable IPv6 support<br>- no - 禁用 IPv6 支持<br>- default - 从接口默认配置文件中获取该值； 如果这是接口默认配置文件，则与否相同<br>- require - 明确要求 IPv6 支持                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **use-mpls** (_yes\|no \| default \| require_; Default: **default**)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | 指定是否允许 MPLS over PPP <br> - yes - 启用 MPLS 支持<br> - no - 禁用 MPLS 支持<br> - default - 从接口默认配置文件中获取此值； 如果这是接口默认配置文件，则与否相同<br> - require - 明确要求 MPLS 支持                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **on-up** (_script_; Default: )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 在用户登录事件上执行脚本。 这些是事件脚本可访问的可用变量：<br>- user<br>- local-address<br>- remote-address<br>- caller-id<br>- called-id<br>- interface                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **on-down** (_script_; Default: )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | 在用户注销时执行脚本。 有关更多详细信息，请参见上页                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **wins-server** (_IP address_; Default: )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 提供给 Windows 客户端的 WINS 服务器的 IP 地址                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |

**注意**

有两个默认配置文件无法删除：

```shell
[admin@rb13] ppp profile> print
Flags: * - default
 0 * name="default" use-compression=no use-encryption=no only-one=no
     change-tcp-mss=yes
 1 * name="default-encryption" use-compression=default use-encryption=yes
     only-one=default change-tcp-mss=default
[admin@rb13] ppp profile>

```

_incoming-filter_ 和 _outgoing-filter_ 参数将动态跳转规则添加到链 _ppp_，其中 jump-target 参数将等于配置文件中的 _incoming-filter_ 或 _outgoing-filter_ 参数。 因此，应在更改这些参数之前手动添加链 _ppp_ 。

如果使用 RADIUS 身份验证，则忽略 only-one 参数。

## 用户数据库

**Sub-menu：** `/ppp secret`

PPP 用户数据库存储 PPP 用户访问记录以及分配给每个用户的 PPP 用户配置文件。

**属性**

| Property                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Description                                                                                                                                                                                                                                                                                                                                                                              |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **caller-id** (_string_; Default: )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 对于 [PPTP](https://wiki.mikrotik.com/wiki/Manual:Interface/PPTP "Manual:Interface/PPTP") 和 [L2TP](https://wiki.mikrotik.com/wiki/Manual:Interface/L2TP "Manual:Interface/L2TP") 它是客户端必须连接的 IP 地址。 对于 [PPPoE](https://wiki.mikrotik.com/wiki/PPPoE "PPPoE")，它是客户端必须连接的 MAC 地址（以大写字母书写）。 对于 ISDN，它是呼叫者的号码（运营商可能提供也可能不提供） |
| **comment** (_string_; Default: )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 用户的简短描述。                                                                                                                                                                                                                                                                                                                                                                         |
| **disabled** (_yes                                \| no_; Default: **no**)                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | 是否会使用 secret。                                                                                                                                                                                                                                                                                                                                                                      |
| **limit-bytes-in** (_integer_; Default: **0**)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | 客户端可以上传的会话的最大字节数。                                                                                                                                                                                                                                                                                                                                                       |
| **limit-bytes-out** (_integer_; Default: **0**)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 客户端可以下载的会话的最大字节数。                                                                                                                                                                                                                                                                                                                                                       |
| **local-address** (_IP address_; Default: )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | 将在 ppp 接口上本地设置的 IP 地址。                                                                                                                                                                                                                                                                                                                                                      |
| **name** (_string_; Default: )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | 用于身份验证的名称                                                                                                                                                                                                                                                                                                                                                                       |
| **password** (_string_; Default: )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | 用于身份验证的密码                                                                                                                                                                                                                                                                                                                                                                       |
| **profile** (_string_; Default: **default**)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | 使用哪个[用户配置文件](https://wiki.mikrotik.com/wiki/Manual:PPP_AAA#User_profiles)。                                                                                                                                                                                                                                                                                                    |
| **remote-address** (_IP_; Default: )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | 将分配给远程 ppp 接口的 IP 地址。                                                                                                                                                                                                                                                                                                                                                        |
| **remote-ipv6-prefix** (_IPv6 prefix_; Default: )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 分配给 ppp 客户端的 IPv6 前缀。 前缀添加到 [ND 前缀列表](https://wiki.mikrotik.com/wiki/Manual:IPv6/ND "Manual:IPv6/ND") 启用[无状态](https://wiki.mikrotik.com/wiki/Manual:IPv6/ND#Stateless_address_autoconfiguration "Manual:IPv6/ND") 在 ppp 接口上自动配置地址。从 v5.0 开始可用。                                                                                                  |
| **routes** (_string_; Default: )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | 客户端连接时出现在服务器上的路由。 路由格式为：dst-address gateway metric（例如，10.1.0.0/ 24 10.0.0.1 1）。 其他语法是不可接受的，因为它可能以不正确的方式表示。 可以指定多个路由，并用逗号分隔。 [OpenVPN](https://wiki.mikrotik.com/wiki/OpenVPN "OpenVPN") 将忽略此参数。                                                                                                            |
| **service** (_any                                                          \| async                                                                                                                                                                                                                                                                                                                                                                                    \| isdn \| l2tp \| pppoe \| pptp \| ovpn \| sstp_; Default: **any**) | 指定特定用户将能够使用的服务。                                                                                                                                                                                                                                                                                                                                                           |

## 活跃用户

**Sub-menu：** `/ppp active`

此Submenu允许监视活动（已连接）用户。

`/ppp active print` 命令将显示所有当前连接的用户。

`/ppp active print stats` 命令将显示接收/发送的字节和数据包

**属性**

| 属性                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 说明                                                                                                                                                                                                                                                                                                                                   |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **address** (_IP address_)                                                                                                                                                                                                                                                                                                                                                                                                                                   | 客户端从服务器获取的IP地址                                                                                                                                                                                                                                                                                                             |
| **bytes** (_integer_)                                                                                                                                                                                                                                                                                                                                                                                                                                        | 通过此连接传输的字节数。第一个数字表示从路由器的角度来看传输的流量，而第二个数字表示接收的流量。                                                                                                                                                                                                                                       |
| **caller-id** (_string_)                                                                                                                                                                                                                                                                                                                                                                                                                                     | 对于 [PPTP](https://wiki.mikrotik.com/wiki/Manual:Interface/PPTP "Manual:Interface/PPTP") 和 [L2TP](https://wiki.mikrotik.com/wiki/Manual:Interface/L2TP "Manual:Interface/L2TP") 它是客户端连接的 IP 地址。 对于 [PPPoE](https://wiki.mikrotik.com/wiki/Manual:Interface/PPPoE "Manual:Interface/PPPoE")，它是客户端连接的 MAC 地址。 |
| **encoding** (_string_)                                                                                                                                                                                                                                                                                                                                                                                                                                      | 显示在此连接中使用的加密和编码（如果不对称，则用“/”分隔）                                                                                                                                                                                                                                                                              |
| **limit-bytes-in** (_integer_)                                                                                                                                                                                                                                                                                                                                                                                                                               | 允许用户发送到路由器的最大字节数。                                                                                                                                                                                                                                                                                                     |
| **limit-bytes-out** (_integer_)                                                                                                                                                                                                                                                                                                                                                                                                                              | 允许用户发送给客户端的最大字节数。                                                                                                                                                                                                                                                                                                     |
| **name** (_string_)                                                                                                                                                                                                                                                                                                                                                                                                                                          | 在身份验证阶段提供的用户名                                                                                                                                                                                                                                                                                                             |
| **packets** (_integer/integer_)                                                                                                                                                                                                                                                                                                                                                                                                                              | 通过此连接传输的数据包数量。第一个数字表示从路由器的角度来看传输的流量，而第二个数字表示接收的流量                                                                                                                                                                                                                                     |
| **service** (_async             \| isdn                                                                                                                                                                                                                                                                                                                                                                           \| l2tp \| pppoe \| pptp \| ovpn \| sstp_) | 用户正在使用的服务类型。                                                                                                                                                                                                                                                                                                               |
| **session-id** (_string_)                                                                                                                                                                                                                                                                                                                                                                                                                                    | 显示唯一的客户端标识符。                                                                                                                                                                                                                                                                                                               |
| **uptime** (_time_)                                                                                                                                                                                                                                                                                                                                                                                                                                          | 用户上线时间                                                                                                                                                                                                                                                                                                                           |

## 远程 AAA

**Sub-menu：** `/ppp aaa`

此Submenu中的设置允许设置 RADIUS审计和身份验证。 请注意，只有在本地用户数据库中找不到所需的用户名时，才会查询 RADIUS 用户数据库。

**属性**

| 属性                                                                   | 说明                                                                                                   |
| ---------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------ |
| **accounting** (_yes                         \| no_; Default: **yes**) | 允许RADIUS审计                                                                                         |
| **interim-update** (_time_; Default: **0s**)                           | 临时更新时间间隔                                                                                       |
| **use-radius** (_yes                         \| no_; Default: **no**)  | 通过 RADIUS 启用用户身份验证。如果在本地秘密数据库中找不到条目，​​则客户端将通过 RADIUS 进行身份验证。 |

### 例子

#### 添加新配置文件

添加配置文件 ex 为路由器本身分配 10.0.0.1 地址，并将 ex 池中的地址分配给客户端，通过 mypppclients 链过滤来自客户端的流量：

```shell
[admin@rb13] ppp profile> add name=ex local-address=10.0.0.1 remote-address=ex incoming-filter=mypppclients
[admin@rb13] ppp profile> print
Flags: * - default
 0 * name="default" use-compression=no use-vj-compression=no use-encryption=no only-one=no
     change-tcp-mss=yes
 1   name="ex" local-address=10.0.0.1 remote-address=ex use-compression=default
     use-vj-compression=default use-encryption=default only-one=default change-tcp-mss=default
     incoming-filter=mypppclients
 2 * name="default-encryption" use-compression=default use-vj-compression=default use-encryption=yes
     only-one=default change-tcp-mss=default
[admin@rb13] ppp profile>

```

#### 添加新用户

要添加密码为 lkjrht 的用户 ex 和仅可用于 PPTP 服务的配置文件 ex，请输入以下命令：

```shell
[admin@rb13] ppp secret> add name=ex password=lkjrht service=pptp profile=ex
[admin@rb13] ppp secret> print
Flags: X - disabled
 #   NAME                SERVICE CALLER-ID         PASSWORD          PROFILE            REMOTE-ADDRESS
 0   ex                  pptp                      lkjrht            ex                 0.0.0.0
[admin@rb13] ppp secret>

```
